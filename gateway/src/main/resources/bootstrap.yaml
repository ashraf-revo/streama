spring:
  application:
    name: gateway
  cloud:
    kubernetes:
      config:
        sources:
        - name: streama
          namespace: streama
    gateway:
      discovery:
        locator:
          enabled: true
#          url-expression: "'http://'+serviceId+':8080'"
          url-expression: "'http://'+serviceId+'.streama.svc.cluster.local:8080'"
#      routes:
#      - id: clone
#        uri: lb://clone:8080
#        predicates:
#        - Path=/clone/**
#        filters:
#        - StripPrefix=1

management:
  endpoints:
    web:
      exposure:
        include: ["*"]
  endpoint:
    health:
      show-details: always
logging:
  level:
    org.springframework: debug
  file: ${spring.application.name}.log
#oc delete -f streama.yaml;rm -r -f streama.yaml ;wget https://raw.githubusercontent.com/ashraf-revo/streama/master/k8s/streama.yaml;oc create -f streama.yaml